<!DOCTYPE html>
<html lang="en">
<head>
	<title>Simple snake game</title>
	<style>

		body {
			margin: 0;
			padding: 0;
		}

		.container {
			margin: 0;
			padding: 0;
			width: 400px;
			height: 400px;
			background-color: #f0f0f0;
		}

		.snake {
			background-color: #555;
			border-radius: 20%;
			position: fixed; 
			padding: 10px;
			left: 0;
			top: 0;
		}

	</style>
</head>
<body>

	<div class="container">
		<span class="snake" style="background-color: #999 !important"></span>
		<span class="snake" style="background-color: #777 !important"></span>
		<span class="snake"></span>
	</div>

	<script>

		let speed = 800;
		let timeout = 3000;
		let snakes = document.getElementsByClassName('snake');

		for (let i = 0; i < snakes.length; i++) {
			
			let time = timeout * i;

			setTimeout(function () {
				move(snakes[i], speed);
			}, time);	
		}

		function move(snake, speed) {
			let x = 0;
			let y = 0;

			let goLeft 	= false;
			let goRight = true;
			let goUp 	= false;
			let goDown 	= false;

			document.addEventListener('keydown', function (e) {

				for (let i = 0; i < snakes.length; i++) {

					let time = i * timeout;
					keydown(e, time);			
				}				
				
			});

			setInterval(function () {

				if (x == 390 || x == -5 || y == 390 || y == -5) {

					alert ('Game over! You hit a wall.');

					x = 0;
					y = 0;

					snake.style.left = x +'px';
					snake.style.top = x +'px';

					goLeft 	= false;
					goRight = true;
					goUp 	= false;
					goDown 	= false
				}

				if (goLeft) {
					x -= 5;
					snake.style.left = x +'px';
				}

				if (goUp) {
					y -= 5;
					snake.style.top = y +'px';
				}

				if (goRight) {
					x += 5;
					snake.style.left = x +'px';
				}

				if (goDown) {
					y += 5;
					snake.style.top = y +'px';
				}

			}, speed);

			function keydown(e, time) {
				setTimeout(function () {

					if (e.key == 'ArrowLeft') {
						goLeft 	= true;
						goRight = false;
						goUp 	= false;
						goDown 	= false;
					}

					if (e.key == 'ArrowUp') {
						goLeft 	= false;
						goRight = false;
						goUp 	= true;
						goDown 	= false;
					}

					if (e.key == 'ArrowRight') {
						goLeft 	= false;
						goRight = true;
						goUp 	= false;
						goDown 	= false;
					}

					if (e.key == 'ArrowDown') {
						goLeft 	= false;
						goRight = false;
						goUp 	= false;
						goDown 	= true;
					}
				}, time);
			}
		}
	</script>
</body>
</html>